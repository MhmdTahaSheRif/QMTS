;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "14.0-9-g58006c6";},getModuleName:function(){return "prezi_brandkitprovider";},getModuleVersion:function(){return "release-2023w26-base-4-g4a3c2ed4bcb";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_cet_model_editor":dependencies[0],"prezi_featureswitcher":dependencies[1],"prezi_logger":dependencies[2],"prezi_plugin_api":dependencies[3],"prezi_utils":dependencies[4]}};})());};})(arguments);var moduleImpl=(function(){return module(function(){var c={};Object.defineProperty(c,"__esModule",{value:!0});const f=["api","v1","brandkits"],g=["api","v2","brandkits"];c.u=class{constructor(a){this.service=a}static ba(a){return a.service(f,(a)=>new c.u(a))}getBrandKitData(){return this.service.read("GET",["present"],{}).then((a)=>null!==a&&void 0!==a?a:[])}getBrandKitDataVideo(){return this.service.read("GET",["video"],{}).then((a)=>null!==a&&void 0!==a?a:[])}getOrganizationData(){return this.service.read("GET",["permissions"],
{}).then((a)=>{var b;return null!==(b=a.map((a)=>({groupAdminEmail:a.group_admin_email,groupName:a.group_name,organizationId:a.organization_id,isAdmin:a.is_admin,hasLicense:a.has_license,enableBrandkitForMembers:a.enable_brandkit_for_members})))&&void 0!==b?b:[]})}};c.v=class{constructor(a){this.service=a}static aa(a){return a.service(g,(a)=>new c.v(a))}getBrandKitDataDesign(){return this.service.read("GET",["design"],{}).then((a)=>null!==a&&void 0!==a?a:[])}};var e={};Object.defineProperty(e,"__esModule",
{value:!0});e.$=class{constructor(a){this.j=this.o=this.i=null;this.service=c.u.ba(a);this.ca=c.v.aa(a)}getBrandKitData(){null==this.i&&(this.i=this.service.getBrandKitData().then((a)=>{const b=new Map;a.forEach((a)=>{a.fonts.forEach((a)=>{this.da(a)&&b.set(a.fontFamily,a.name)})});return a.map((a)=>Object.assign(Object.assign({},a),{fonts:null==a.fonts?[]:a.fonts.map((a)=>Object.assign(Object.assign({},a),{fontFamily:this.w(b.get(a.fontFamily),a.fontFamily),keg:a.keg.split("/").pop()})),text:null==
a.text?null:{title:this.f(a.text.title,b),subtitle:this.f(a.text.subtitle,b),subtitle2:this.f(a.text.subtitle2,b),body:this.f(a.text.body,b),body2:this.f(a.text.body2,b)}}))}));return this.i}da(a){return a.isCustom}w(a,b){return null==a||""===a?b:a+"--"+b}f(a,b){return null==a?null:Object.assign(Object.assign({},a),{fontFamily:this.w(b.get(a.fontFamily),a.fontFamily)})}isBrandkitDefinedForOtherPorducts(){null==this.j&&(this.j=Promise.all([this.ca.getBrandKitDataDesign().then((a)=>0<a.length).catch(()=>
!1),this.service.getBrandKitDataVideo().then((a)=>0<a.length).catch(()=>!1)]).then((a)=>a.reduce((a,c)=>a||c)));return this.j}getOrganizationData(){null==this.o&&(this.o=this.service.getOrganizationData());return this.o}};var d={};Object.defineProperty(d,"__esModule",{value:!0});(function(a){let b;a.getBrandKitProvider=function(a){null==b&&(b=new e.$(a));return b}})(d.BrandKitProviderModule||(d.BrandKitProviderModule={}));return d});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_brandkitprovider",["require","prezi_cet_model_editor","prezi_featureswitcher","prezi_logger","prezi_plugin_api","prezi_utils"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_brandkitprovider.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi_cet_model_editor"),require("prezi_featureswitcher"),require("prezi_logger"),require("prezi_plugin_api"),require("prezi_utils"));}else{this["prezi_brandkitprovider"]=__factory(this["prezi_cet_model_editor"],this["prezi_featureswitcher"],this["prezi_logger"],this["prezi_plugin_api"],this["prezi_utils"]);}}).call(this);