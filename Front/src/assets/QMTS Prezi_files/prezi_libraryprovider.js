;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "14.0-9-g58006c6";},getModuleName:function(){return "prezi_libraryprovider";},getModuleVersion:function(){return "release-2023w26-base-4-g4a3c2ed4bcb";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_featureswitcher":dependencies[0],"prezi_i18n":dependencies[1],"prezi_plugin_api":dependencies[2]}};})());};})(arguments);var moduleImpl=(function(){return module(function(g){var r=g.dependencies.prezi_featureswitcher,n=g.dependencies.prezi_i18n,d={},e=this&&d.ca||function(a,c,b,d){function f(a){return a instanceof b?a:new b(function(c){c(a)})}return new (b||(b=Promise))(function(b,e){function m(a){try{h(d.next(a))}catch(k){e(k)}}function g(a){try{h(d["throw"](a))}catch(k){e(k)}}function h(a){a.done?b(a.value):f(a.value).then(m,g)}h((d=d.apply(a,c||[])).next())})};Object.defineProperty(d,"__esModule",{value:!0});d.i=class{constructor(a){this.service=
a}getStoryblocksByGuid(a){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["admin","storyblock",`${a}`],{})})}uploadStoryblockData(a,c){return e(this,void 0,void 0,function*(){return yield this.service.access("POST",["admin","storyblock",`${a}`,"data"],{},{data:c.data,documentGeneration:c.documentGeneration,dataType:c.dataType,thumbnailUrl:"",videoThumbnailUrl:""})})}generateStoryblockThumbnail(a,c,b){return e(this,void 0,void 0,function*(){return yield this.service.access("POST",
["admin","snippet",`${a}`,`${c}`,"generate","thumbnail"],{},{xml:b})})}getSnippetDataStatus(a,c){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["admin","snippet",`${a}`,`${c}`,"status"],{})})}getFolders(){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["folder"],{limit:`${d.i.aa}`,offset:"0"})})}};d.i.baseUrl=["api","v1","library"];d.i.aa=2E3;d.o=class{constructor(a){this.service=a}getStoryblocksV2(a,c){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",
["storyblock"],{supported_document_generations:a.join(","),supported_snippet_types:c.join(",")})})}getRecommendedTopicsV2(a,c){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["recommended","storyblock"],{supported_document_generations:a.join(","),supported_snippet_types:c.join(",")})})}};d.o.baseUrl=["api","v2","library"];d.u=class{constructor(a){this.service=a}getFavoritesV3(){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["user","favorite"],
{})})}getFavoriteDataV3(a){return e(this,void 0,void 0,function*(){const c=a.replace("/api/v3/library/","");return yield this.service.read("GET",[c],{})})}getFavoriteThumbnailWithStatus(a,c){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["user","favorite",a,c.toString(),"thumbnail"],{})})}createFavoriteV3(a){return e(this,void 0,void 0,function*(){return yield this.service.access("POST",["user","favorite","create","from-next-data"],{},a)})}deleteFavoriteV3(a){return e(this,
void 0,void 0,function*(){return yield this.service.access("DELETE",["user","favorite",a],{},{})})}getFavoriteMedia(a){return e(this,void 0,void 0,function*(){return yield this.service.read("GET",["user","favorite","media",a],{})})}};d.u.baseUrl=["api","v3","library"];var l={},f=this&&l.ca||function(a,c,b,d){function f(a){return a instanceof b?a:new b(function(c){c(a)})}return new (b||(b=Promise))(function(b,e){function g(a){try{h(d.next(a))}catch(k){e(k)}}function m(a){try{h(d["throw"](a))}catch(k){e(k)}}
function h(a){a.done?b(a.value):f(a.value).then(g,m)}h((d=d.apply(a,c||[])).next())})};Object.defineProperty(l,"__esModule",{value:!0});l.ba=class{constructor(a){this.cache={w:[],v:[]};this.j=a.service(d.i.baseUrl,(a)=>new d.i(a));this.$=a.service(d.o.baseUrl,(a)=>new d.o(a));this.f=a.service(d.u.baseUrl,(a)=>new d.u(a))}getStoryblocksByGuid(a){return f(this,void 0,void 0,function*(){return this.j.getStoryblocksByGuid(a)})}generateStoryblockThumbnail(a,c,b){return f(this,void 0,void 0,function*(){return this.j.generateStoryblockThumbnail(a,
c,b)})}getSnippetDataStatus(a,c){return f(this,void 0,void 0,function*(){return this.j.getSnippetDataStatus(a,c)})}getFolders(){return f(this,void 0,void 0,function*(){0===this.cache.v.length&&(this.cache.v=yield this.j.getFolders());return this.cache.v})}getStoryblocksV2(a,c){return f(this,void 0,void 0,function*(){0===this.cache.w.length&&(this.cache.w=yield this.$.getStoryblocksV2(a,c));return this.cache.w})}uploadStoryblockData(a,c){return f(this,void 0,void 0,function*(){return yield this.j.uploadStoryblockData(a,
c)})}getDefaultTopics(){return f(this,void 0,void 0,function*(){const a=yield(yield fetch(g.getResourceUrl("/default-topic.json"))).json();a.data.videoThumbnailUrl=g.getResourceUrl("/default-topic-video.mp4");a.data.thumbnailUrl=g.getResourceUrl("/default-topic-thumbnail.jpeg");return[Object.assign(Object.assign({},a),{title:n.I18n.ts("Default")})]})}getRecommendedTopicsV2(a,c){return f(this,void 0,void 0,function*(){return this.$.getRecommendedTopicsV2(a,c)})}getStackTopics(){return f(this,void 0,
void 0,function*(){const a=yield(yield fetch(g.getResourceUrl("/stack-topics.json"))).json();a.forEach((a)=>{switch(a.key){case "stack-page1":a.data.thumbnailUrl=g.getResourceUrl("/stack-topic-thumbnail-image-stack-page1.jpeg");break;case "stack-page2":a.data.thumbnailUrl=g.getResourceUrl("/stack-topic-thumbnail-image-stack-page2.jpeg")}});return r.isActive("js-show-2-pages-in-stack-section")?a:[Object.assign(Object.assign({},a[0]),{title:n.I18n.ts("Default")})]})}getFavoritesV3(){return f(this,void 0,
void 0,function*(){return yield this.f.getFavoritesV3()})}createFavoriteV3(a){return f(this,void 0,void 0,function*(){return yield this.f.createFavoriteV3(a)})}getFavoriteThumbnailWithStatus(a,b){return f(this,void 0,void 0,function*(){return yield this.f.getFavoriteThumbnailWithStatus(a,b)})}getFavoriteDataV3(a){return f(this,void 0,void 0,function*(){return yield this.f.getFavoriteDataV3(a)})}deleteFavoriteV3(a){return f(this,void 0,void 0,function*(){return yield this.f.deleteFavoriteV3(a)})}getFavoriteMedia(a){return f(this,
void 0,void 0,function*(){return yield this.f.getFavoriteMedia(a)})}};var b={};Object.defineProperty(b,"__esModule",{value:!0});(function(a){a.Animated="animated";a.Static="static"})(b.SnippetType||(b.SnippetType={}));var p;(function(a){a.allAssets="all";a.savedAssets="saved"})(p=b.BaseCollectionFilter||(b.BaseCollectionFilter={}));var q;(q=b.SystemCollection||(b.SystemCollection={})).myUploads="my-uploads";b.CollectionFilter=Object.assign(Object.assign({},p),q);(function(a){a.chart="chart";a.group=
"group";a.image="image";a.gif="gif";a.pdf="pdf";a.shape="shape";a.slide="slide";a.text="text";a.topic="topic";a.video="video";a.composite="composite";a.preziClassic="prezi_classic"})(b.FavoritesObjectKind||(b.FavoritesObjectKind={}));(function(a){a.success="success";a.failed="failed";a.inProgress="in-progress";a.none="none"})(b.ThumbnailStatus||(b.ThumbnailStatus={}));(function(a){a.design="design-document";a.presentation="presentation-document";a.video="video-document"})(b.CopydataTypeEnum||(b.CopydataTypeEnum=
{}));(function(a){a.xml="xml";a.jpg="jpg";a.mp4="mp4"})(b.FavoriteDataType||(b.FavoriteDataType={}));(function(a){a.noThumbnail="no_thumbnail";a.publishable="publishable";a.published="published";a.inProgress="in_progress"})(b.SnippetDataStatus||(b.SnippetDataStatus={}));(function(a){let b;a.getLibraryProvider=function(a){null==b&&(b=new l.ba(a));return b}})(b.LibraryProviderModule||(b.LibraryProviderModule={}));return b});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_libraryprovider",["require","prezi_featureswitcher","prezi_i18n","prezi_plugin_api"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_libraryprovider.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi_featureswitcher"),require("prezi_i18n"),require("prezi_plugin_api"));}else{this["prezi_libraryprovider"]=__factory(this["prezi_featureswitcher"],this["prezi_i18n"],this["prezi_plugin_api"]);}}).call(this);