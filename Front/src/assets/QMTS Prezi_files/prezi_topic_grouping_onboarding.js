;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "14.0-9-g58006c6";},getModuleName:function(){return "prezi_topic_grouping_onboarding";},getModuleVersion:function(){return "release-2023w26-base-4-g4a3c2ed4bcb";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_editor_commander":dependencies[0],"prezi_featureswitcher":dependencies[1],"prezi_i18n":dependencies[2],"prezi_logger":dependencies[3],"prezi_plugin_api":dependencies[4],"prezi_plugin_meta":dependencies[5],"prezi_service_data":dependencies[6],"prezi_utils":dependencies[7],"prezi_widgets":dependencies[8]}};})());};})(arguments);var moduleImpl=(function(){return module(function(b){var f=b.dependencies.prezi_editor_commander,e=b.dependencies.prezi_widgets,g=b.dependencies.prezi_utils,h=b.dependencies.prezi_service_data,d=b.dependencies.prezi_featureswitcher,c={};Object.defineProperty(c,"__esModule",{value:!0});c.j=class{constructor(){this.steps=[{id:"start-onboarding",visual:{}},{id:"nested-in",visual:{highlights:[{around:{uiElementId:"selection-zoom-in-button"},shape:e.HoleShape.rounded,pulse:!0}]},disableVisual:(a)=>-1===a.selectedEntityIds.indexOf(a.groupedIntoId),
isDone:(a)=>a.groupedIntoId===a.currentTopic},{id:"inside",visual:{highlights:[{around:{virtualElementId:"viewport-topleft"},shape:e.HoleShape.circle,pulse:!0,callout:{anchor:"right",text:"Drag & drop a subtopic here to move it up a level",onClose:()=>this.f.closeOnboarding()}}]},fallback:{to:"nested-in",when:(a)=>a.groupedIntoId!==a.currentTopic}}]}processMessage(a){switch(a.kind){case "requestNestInGrouping":this.f.finishActiveStep("start-onboarding");this.setState({groupedIntoId:a.groupedIntoId});
break;case "requestNestOutGrouping":a.groupedOutFromId===this.i.getState().groupedIntoId&&this.f.finishActiveStep("inside");break;default:g.Utils.assertNever(a)}}init(a){const b=a.declareUI({groupedIntoId:null,currentTopic:null,selectedEntityIds:[]},(a,b)=>{this.f.declareUI(b)});this.i=b;this.setState=(a)=>{b.setState(a);this.f.refreshOnboarding()};let c;c=d.isActive("js-unique-differentiation")?"disable":d.isActive("js-force-nesting-onboarding")?"force":d.isActive("js-disable-nesting-onboarding")?
"disable":[h.UserSettingBooleanKeys.TOPIC_GROUPING_ONBOARDING_SHOWN];this.f=f.EditorCommander.createOnboarding(this.steps,this.i,c,this.userSettings);a.onSelectionChange((a)=>{this.setState({selectedEntityIds:a.allObjects.map((a)=>a.id)})});a.onCurrentTopicChange((a)=>{this.setState({currentTopic:a})})}};b={};Object.defineProperty(b,"__esModule",{value:!0});b.lazyModule={createPlugin(){return new c.j}};return b});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_topic_grouping_onboarding",["require","prezi_editor_commander","prezi_featureswitcher","prezi_i18n","prezi_logger","prezi_plugin_api","prezi_plugin_meta","prezi_service_data","prezi_utils","prezi_widgets"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_topic_grouping_onboarding.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi_editor_commander"),require("prezi_featureswitcher"),require("prezi_i18n"),require("prezi_logger"),require("prezi_plugin_api"),require("prezi_plugin_meta"),require("prezi_service_data"),require("prezi_utils"),require("prezi_widgets"));}else{this["prezi_topic_grouping_onboarding"]=__factory(this["prezi_editor_commander"],this["prezi_featureswitcher"],this["prezi_i18n"],this["prezi_logger"],this["prezi_plugin_api"],this["prezi_plugin_meta"],this["prezi_service_data"],this["prezi_utils"],this["prezi_widgets"]);}}).call(this);