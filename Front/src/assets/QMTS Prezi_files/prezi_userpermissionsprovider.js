;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "14.0-9-g58006c6";},getModuleName:function(){return "prezi_userpermissionsprovider";},getModuleVersion:function(){return "release-2023w26-base-4-g4a3c2ed4bcb";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_logger":dependencies[0],"prezi_plugin_api":dependencies[1]}};})());};})(arguments);var moduleImpl=(function(){return module(function(){var d={};Object.defineProperty(d,"__esModule",{value:!0});const g=["api","v4","presentation","permissions-for-user"];d.f=class{constructor(a){this.service=a}static j(a){return a.service(g,(a)=>new d.f(a))}getUserPermissions(a){return this.service.access("GET",[],null,null).then((b)=>{b=b.by_schema_version[a];return{createHiddenReusable:b.create_hidden_reusable.permission_value,createPrivate:b.create_private.permission_value,createPublicReusable:b.create_public_reusable.permission_value,
createPublic:b.create_public.permission_value,create:b.create.permission_value,createHiddenCopyrighted:b.create_hidden_copyrighted.permission_value,schemaVersion:b.schema_version,createPrivateCopyrighted:b.create_private_copyrighted.permission_value,createPrivateReusable:b.create_private_reusable.permission_value,userOid:b.user_oid,createPublicCopyrighted:b.create_public_copyrighted.permission_value,createHidden:b.create_hidden.permission_value}})}};var e={},f=this&&e.o||function(a,b,c,d){function e(a){return a instanceof
c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,f){function g(a){try{h(d.next(a))}catch(k){f(k)}}function l(a){try{h(d["throw"](a))}catch(k){f(k)}}function h(a){a.done?c(a.value):e(a.value).then(g,l)}h((d=d.apply(a,b||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});e.i=class{constructor(a){this.service=d.f.j(a)}isCreationAllowedFor(a){return f(this,void 0,void 0,function*(){return(yield this.getUserPermissions(a)).create===c.PermissionValue.ALLOWED})}isCreationLimitReachedFor(a){return f(this,
void 0,void 0,function*(){return(yield this.getUserPermissions(a)).create===c.PermissionValue.NOT_ALLOWED_LIMIT_REACHED})}getUserPermissions(a){return this.service.getUserPermissions(a)}};var c={};Object.defineProperty(c,"__esModule",{value:!0});(function(a){a.ALLOWED="ALLOWED";a.ALLOWED_BUT_NO_EFFECT="ALLOWED_BUT_NO_EFFECT";a.ALLOWED_BUT_NOT_PREFERRED="ALLOWED_BUT_NOT_PREFERRED";a.NOT_ALLOWED="NOT_ALLOWED";a.NOT_ALLOWED_WITH_CURRENT_FEATURES="NOT_ALLOWED_WITH_CURRENT_FEATURES";a.NOT_ALLOWED_LIMIT_REACHED=
"NOT_ALLOWED_LIMIT_REACHED";a.NOT_ALLOWED_IN_ORG="NOT_ALLOWED_IN_ORG";a.NOT_POSSIBLE="NOT_POSSIBLE"})(c.PermissionValue||(c.PermissionValue={}));(function(a){let b;a.getUserPermissionsProvider=function(a){null==b&&(b=new e.i(a));return b}})(c.UserPermissionsProviderModule||(c.UserPermissionsProviderModule={}));return c});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_userpermissionsprovider",["require","prezi_logger","prezi_plugin_api"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_userpermissionsprovider.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi_logger"),require("prezi_plugin_api"));}else{this["prezi_userpermissionsprovider"]=__factory(this["prezi_logger"],this["prezi_plugin_api"]);}}).call(this);