;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "14.0-9-g58006c6";},getModuleName:function(){return "prezi_externalassetprovider";},getModuleVersion:function(){return "release-2023w26-base-4-g4a3c2ed4bcb";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_featureswitcher":dependencies[0],"prezi_i18n":dependencies[1],"prezi_plugin_api":dependencies[2]}};})());};})(arguments);var moduleImpl=(function(){return module(function(h){function k(a){return{id:a.id,thumbnail_url:null!=a.animated_thumbnail?a.animated_thumbnail.gif_url:a.thumbnail_url,url:a.url,author:a.author,extension:a.extension,provider:a.provider}}var m=h.dependencies.prezi_i18n,l=h.dependencies.prezi_plugin_api,d={};Object.defineProperty(d,"__esModule",{value:!0});d.f=class{constructor(a){this.service=a}getRelevantImages(a,b){return this.service.read("GET",["image","collection",a],{per_page:`${d.f.i}`,page:`${b+1}`})}getRelevantAnimations(a,
b,c){b={per_page:`${d.f.i}`,page:`${b+1}`};c&&(b.transparent="1");return this.service.read("GET",["animated","collection",a],b).then((a)=>({assets:a.assets.map(k)}))}getRecommendedImages(a,b){a={per_page:`${d.f.i}`,page:`${a+1}`};b&&(a.orientation=b);return this.service.read("GET",["image","search"],a)}search(a,b,c){a={term:a,per_page:`${d.f.i}`,page:`${b+1}`};c&&(a.orientation=c);return this.service.read("GET",["image","search"],a)}animationSearch(a,b,c){a={term:a,per_page:`${d.f.i}`,page:`${b+1}`};
c&&(a.transparent="1");return this.service.read("GET",["animated","search"],a).then((a)=>({assets:a.assets.map(k)}))}registerAsset(a){return this.service.access("POST",["register"],{},a)}};d.f.baseUrl=["api","v2","assets"];d.f.i=40;var f={};Object.defineProperty(f,"__esModule",{value:!0});f.j=class{constructor(a){this.service=a.service(d.f.baseUrl,(a)=>new d.f(a))}getRelevantImages(a,b){return this.service.getRelevantImages(a,b)}getRelevantAnimations(a,b,c){return this.service.getRelevantAnimations(a,
b,c)}getRecommendedImages(a,b){return this.service.getRecommendedImages(a,b)}search(a,b,c){return this.service.search(a,b,c)}animationSearch(a,b,c){return this.service.animationSearch(a,b,c)}registerAsset(a){return this.service.registerAsset(a)}generateImageInfo(a){let b="",c="",d="",f="",g;a.provider?e.SUPPORTED_PROVIDERS.has(a.provider)&&(g=e.SUPPORTED_PROVIDERS.get(a.provider),b=g.name):b+=".com";a.author&&(c=a.author.name,0<b.length&&(d=" | "),a.author.profile_url&&(f=a.author.profile_url));a=
`${c}${d}${b}`;return{url:f?f:null,text:c,icon:g?g.icon:l.IconSmallId.Image,tooltip:0<a.length?m.I18n.ts("Photo by")+` ${a}`:null}}};var e={};Object.defineProperty(e,"__esModule",{value:!0});(function(a){a.LANDSCAPE="landscape";a.PORTRAIT="portrait";a.SQUARISH="squarish"})(e.Orientation||(e.Orientation={}));(function(a){a.NEXT_BACKGROUND="next-background";a.NEXT_IMAGE="next-image";a.NEXT_ANIMATED="next-animated";a.NEXT_ANIMATED_STICKER="next-animated-sticker"})(e.Usecase||(e.Usecase={}));e.SUPPORTED_PROVIDERS=
new Map([["unsplash",{name:"Unsplash.com",icon:l.IconSmallId.Unsplash}]]);(function(a){let b;a.getExternalAssetProvider=function(a){null==b&&(b=new f.j(a));return b}})(e.ExternalAssetProviderModule||(e.ExternalAssetProviderModule={}));return e});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_externalassetprovider",["require","prezi_featureswitcher","prezi_i18n","prezi_plugin_api"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_externalassetprovider.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi_featureswitcher"),require("prezi_i18n"),require("prezi_plugin_api"));}else{this["prezi_externalassetprovider"]=__factory(this["prezi_featureswitcher"],this["prezi_i18n"],this["prezi_plugin_api"]);}}).call(this);