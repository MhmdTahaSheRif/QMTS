;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "14.0-9-g58006c6";},getModuleName:function(){return "prezi_ar_convert";},getModuleVersion:function(){return "release-2023w26-base-4-g4a3c2ed4bcb";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi.geometry":dependencies[0],"prezi_cet_model_editor":dependencies[1],"prezi_duplicatepreziprovider":dependencies[2],"prezi_editor_commander":dependencies[3],"prezi_editor_error":dependencies[4],"prezi_featureswitcher":dependencies[5],"prezi_i18n":dependencies[6],"prezi_logger":dependencies[7],"prezi_plugin_api":dependencies[8],"prezi_plugin_meta":dependencies[9],"prezi_service_data":dependencies[10],"prezi_uaparser":dependencies[11],"prezi_userpermissionsprovider":dependencies[12],"prezi_utils":dependencies[13],"prezi_widgets":dependencies[14]}};})());};})(arguments);var moduleImpl=(function(){return module(function(m){function fa(a){return a.is(q.base.ObjectKind.planetTopic)?a.visual.contentChildren.some((a)=>a.is(q.base.ObjectKind.slide))||a.contentChildren.some((a)=>a.is(q.base.ObjectKind.slide)):!1}function ha(a){a.lookup.findAll(q.base.ObjectKind.planetTopic).forEach((a)=>{fa(a)||a.visual.contentChildren.forEach((c)=>{const f=c.visualLayoutRole===q.base.VisualLayoutRole.topicShape;c.parent=a.surface;f&&c.parent.is(q.base.ObjectKind.surface)&&(c.surfaceLayoutRole=q.base.SurfaceLayoutRole.surfaceTopicShape)})})}
function E(a,b,c,f,d){switch(a.kind){case q.base.ObjectKind.overview:a.topicChildren.forEach((a)=>E(a,b,c,f,d));break;case q.base.ObjectKind.planetTopic:null!=b&&a.applyLayout(b);a.topicChildren.forEach((a)=>E(a,b,c,f,d));break;case q.base.ObjectKind.stackTopic:null!=c&&a.applyLayout(c);break;default:u.Utils.assertNever(a)}}function P(a,b){b=b.filter((a)=>2===a.category);const c=b.find((c)=>c.id===a);return null!=c?c.id:0<b.length?b[0].id:null}function ia(a,b,c,f,d,k,g){return x(this,void 0,void 0,
function*(){return a.doAsync((()=>x(this,void 0,void 0,function*(){return(yield b)?navigator.permissions.query({name:"camera"}):null}))(),(a,b)=>x(this,void 0,void 0,function*(){if(!a.isValid()||!b)return d;if("denied"===b.state)return g.Ia(),Object.assign(Object.assign({},d),{enabled:!1});const h=yield c.videoBackground.startWithWebcam(a,k,!0);switch(h.status){case e.VideoBackgroundStatusCode.playbackStartFailure:return z.LoggerModule.logException(f,"prezi-ar-convert","video-playback-start",h.error),
d;case e.VideoBackgroundStatusCode.genericFailure:return z.LoggerModule.logException(f,"prezi-ar-convert","webcam-start",h.error),g.unknown(),d;case e.VideoBackgroundStatusCode.successfullyStarted:return z.avro.Avro.createDefaultLogger().logEnabledCameraAccess(),Object.assign(Object.assign({},d),{Fa:k,active:!0});default:u.Utils.assertNever(h)}}))})}function ka(){navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=null);return null}function Q(a,b){a=A(a);return null==a?!1:a.layoutBox.topLeft.x<
b.topLeft.x+b.size.width*(.7-.275-.05)}function A(a){let b=null;0<a.length&&(b=a[0].createLayoutGroupWith(a.slice(1)));return b}var la=m.dependencies.prezi_duplicatepreziprovider,Z=m.dependencies.prezi_plugin_meta,aa=m.dependencies.prezi_userpermissionsprovider,e=m.dependencies.prezi_plugin_api,u=m.dependencies.prezi_utils,L=m.dependencies.prezi_service_data,q=m.dependencies.prezi_cet_model_editor,F=m.dependencies.prezi_editor_commander,z=m.dependencies.prezi_logger,d=m.dependencies.prezi_i18n,l=
m.dependencies.prezi_featureswitcher,M=m.dependencies.prezi_uaparser,R=m.dependencies.prezi_widgets,ma=m.dependencies.prezi_editor_error,X={};Object.defineProperty(X,"__esModule",{value:!0});X.Va=class{constructor(a,b){this.session=a;this.getDuplicatePreziProvider=b}save(a,b){return new Promise((c,f)=>{this.session.document.save(b).then((b)=>{switch(b){case e.SaveResult.Success:c();break;case e.SaveResult.Error:f();a.dialog.showBuiltInError(ma.EditorErrorCase.SAVE_ERROR_RETRY,!1);break;case e.SaveResult.ErrorExternalEdit:f()}})})}duplicatePrezi(){return this.getDuplicatePreziProvider().duplicatePrezi(this.session.document.preziMetaData)}};
var ba={Wa:function(a,b,c){ha(b);var f=F.EditorCommander.getLayoutRepository(),d=P(b.overview.layout.id,f.getOverviewLayoutInfos());null!=d&&b.overview.applyLayout(d);a=F.EditorCommander.createLayoutCommander(f,a.positionFinder);{d=b.overview.add.planet();const a=d.layout.id;d.delete();f=P(a,f.getPlanetLayoutInfos())}E(b.overview,f,c,a,b);a=b.overview.add.planet();null!=f&&a.applyLayout(f);a.setAsPlanetTemplate();a.delete();b=b.overview.add.stack();null!=c&&b.applyLayout(c);b.setAsStackTemplate();
b.delete()}};Object.defineProperty(ba,"__esModule",{value:!0});var C={$a:function(a,b,c,f){const d={Fa:null,qa:!1,active:!1,enabled:!1,oa:(c,f,d,k,e)=>ia(c,f,a,b,d,k,e),freeze:(b)=>{c.logPauseCamera({is_camera_paused:!0});a.videoBackground.live=!1;return Object.assign(Object.assign({},b),{qa:!0})},resume:(b)=>{c.logPauseCamera({is_camera_paused:!1});a.videoBackground.live=!0;return Object.assign(Object.assign({},b),{qa:!1})},Da:(b,f)=>{c.logStopCamera();a.videoBackground.stop(b);return Object.assign(Object.assign({},
f),{active:!1})},destroy:ka},k=navigator.mediaDevices;null!=k&&(k.ondevicechange=()=>x(this,void 0,void 0,function*(){return f(yield(0,C.ra)())}));return d},ra:function(){return x(this,void 0,void 0,function*(){return navigator.mediaDevices?yield navigator.mediaDevices.enumerateDevices().then((a)=>a.filter((a)=>"videoinput"===a.kind&&!a.label.startsWith("Prezi Camera"))):[]})}},x=this&&C.na||function(a,b,c,f){function d(a){return a instanceof c?a:new c(function(c){c(a)})}return new (c||(c=Promise))(function(c,
e){function k(a){try{h(f.next(a))}catch(p){e(p)}}function g(a){try{h(f["throw"](a))}catch(p){e(p)}}function h(a){a.done?c(a.value):d(a.value).then(k,g)}h((f=f.apply(a,b||[])).next())})};Object.defineProperty(C,"__esModule",{value:!0});var G={ea:function(){return M.PreziUAParser.isChrome()||M.PreziUAParser.isEdgeChromium()}};Object.defineProperty(G,"__esModule",{value:!0});var n={},H=this&&n.na||function(a,b,c,f){function d(a){return a instanceof c?a:new c(function(c){c(a)})}return new (c||(c=Promise))(function(c,
e){function g(a){try{h(f.next(a))}catch(p){e(p)}}function k(a){try{h(f["throw"](a))}catch(p){e(p)}}function h(a){a.done?c(a.value):d(a.value).then(g,k)}h((f=f.apply(a,b||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});n.ja="camera-and-microphone-permission-dialog";n.la="microphone-permission-dialog";n.Za=()=>H(void 0,void 0,void 0,function*(){try{return"prompt"===(yield navigator.permissions.query({name:"microphone"})).state}catch(a){return!1}});n.Ya=()=>H(void 0,void 0,void 0,function*(){try{const a=
yield navigator.permissions.query({name:"camera"}),b=yield navigator.permissions.query({name:"microphone"}),c="denied"===a.state||"denied"===b.state;return("prompt"===a.state||"prompt"===b.state)&&!c}catch(a){return!1}});n.Ra=()=>H(void 0,void 0,void 0,function*(){try{const a=yield navigator.mediaDevices.getUserMedia({audio:!0});S(a);return!0}catch(a){return!1}});n.Ba=()=>H(void 0,void 0,void 0,function*(){try{const a=yield navigator.mediaDevices.getUserMedia({video:!0,audio:!0});S(a);return!0}catch(a){return!1}});
const S=(a)=>{a.getTracks().forEach((a)=>{a.stop()})};n.bb=(a,b)=>{a.dialog.small((a)=>({id:n.ja,title:d.I18n.ts("Allow camera and microphone access"),content:[a.image({id:"camera_and_microphone_permission_dialog",src:m.getResourceUrl("permission_cam_and_mic.gif")}),a.label(d.I18n.ts("To record a presentation with your camera, Prezi needs access to your camera and microphone.")),a.label(d.I18n.ts("Press \u201cAllow\u201d when prompted by your browser.")),a.label(d.I18n.ts("You can revoke access at any time through your browser settings."))],
align:e.DialogAlign.center,onCloseButtonClicked:()=>{b.dialog.hide(n.ja)}}));a.dialog.small((a)=>({id:n.la,title:d.I18n.ts("Allow microphone access"),content:[a.image({id:"microphone_permission_dialog",src:m.getResourceUrl("permission_mic.gif")}),a.label(d.I18n.ts("To record a voiceover of your presentation, Prezi needs access to your microphone.")),a.label(d.I18n.ts("Press \u201cAllow\u201d when prompted by your browser.")),a.label(d.I18n.ts("You can revoke access at any time through your browser settings."))],
align:e.DialogAlign.center,onCloseButtonClicked:()=>{b.dialog.hide(n.la)}}))};var t={};Object.defineProperty(t,"__esModule",{value:!0});t.sa="camera-and-microphone-permission-failure-dialog";t.ta="microphone-permission-failure-dialog";t.cb=(a,b)=>{a.dialog.small((a)=>({id:t.sa,title:d.I18n.ts("Unable to access camera or microphone"),content:[a.image({id:"camera_and_microphone_blocked_dialog",src:m.getResourceUrl("blocked_camera_and_microphone.png")}),a.label(d.I18n.ts("**We could not access your camera or microphone.**")),
a.label(d.I18n.ts("To continue your recording, please allow Prezi access to your camera and microphone through your browser\u2019s settings.")),a.button(e.ButtonSize.Large,e.ButtonAlign.End,(a)=>[a.button({id:"pv-error-camera-help",content:{text:d.I18n.ts("Visit Support Center")},color:e.ButtonColor.Gray,onClick:()=>{window.open(g.va)}})])],align:e.DialogAlign.center,onCloseButtonClicked:()=>{b.dialog.hide(t.sa)}}));a.dialog.small((a)=>({id:t.ta,title:d.I18n.ts("Unable to access microphone"),content:[a.image({id:"microphone_blocked_dialog",
src:m.getResourceUrl("blocked_microphone.png")}),a.label(d.I18n.ts("**We could not access your microphone.**")),a.label(d.I18n.ts("To continue your recording, please allow Prezi access to your microphone through your browser\u2019s settings.")),a.button(e.ButtonSize.Large,e.ButtonAlign.End,(a)=>[a.button({id:"pv-error-camera-help",content:{text:d.I18n.ts("Visit Support Center")},color:e.ButtonColor.Gray,onClick:()=>{window.open(g.va)}})])],align:e.DialogAlign.center,onCloseButtonClicked:()=>{b.dialog.hide(t.ta)}}))};
var r={},I=this&&r.na||function(a,b,c,f){function d(a){return a instanceof c?a:new c(function(c){c(a)})}return new (c||(c=Promise))(function(c,e){function g(a){try{h(f.next(a))}catch(p){e(p)}}function k(a){try{h(f["throw"](a))}catch(p){e(p)}}function h(a){a.done?c(a.value):d(a.value).then(g,k)}h((f=f.apply(a,b||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0});r.$="pv-narration-dialog";r.ab=(a,b,c,f,d,e,g,K,y)=>{l.isActive("js-actret-prezi-present-improve-record-video-flow")?na(a,b,
c,f,d,e,g,K,y):oa(a,b,c,f,d,e,g)};const na=(a,b,c,f,g,k,v,K,y)=>{c.dialog.medium((c)=>({id:r.$,title:d.I18n.ts("How do you want to record?"),content:[c.simpleList((a)=>({items:[a.image({id:"pv-narration-no-camera-item",dataLookup:"pv-narration-no-camera-item",title:d.I18n.ts("Narrate your presentation"),src:{url:m.getResourceUrl("prezi_video_narration_only_presentation_with_mic.png")},onClick:()=>{f.logSelectPreziAirFlow({selected_prezi_air_flow:"NARRATED_PREZI_AIR_RECORDING"});g({v:!0})}}),a.image({id:"pv-narration-with-camera-item",
dataLookup:"pv-narration-with-camera-item",title:d.I18n.ts("Appear alongside your content"),src:{url:m.getResourceUrl("prezi_video_with_video_women_beside_presentation_with_camera_icon.png")},onClick:()=>{f.logSelectPreziAirFlow({selected_prezi_air_flow:"PREZI_AIR_WITH_FACE_RECORDING"});g({v:!1})}})],itemLayout:e.ListItemLayout.dynamic,itemType:e.ListItemType.full,showTitle:!0,progress:e.ListProgress.finished,activeId:b.getState().v?"pv-narration-no-camera-item":"pv-narration-with-camera-item"}))],
footer:(c)=>T(c,pa(a,b,f,g,k,v,K,y),()=>b.dialog.hide(r.$))}))},oa=(a,b,c,f,h,k,v)=>{c.dialog.medium((c)=>({id:r.$,title:d.I18n.ts("How would you like to create?"),content:[c.simpleList((a)=>({items:[a.image({id:"pv-narration-with-camera-item",dataLookup:"pv-narration-with-camera-item",title:d.I18n.ts("I want to appear with my content for maximum audience engagement"),src:{url:m.getResourceUrl("prezi_video_with_video_men_drawing_beside_basic_presentation.png")},onClick:()=>{f.logSelectPreziAirFlow({selected_prezi_air_flow:"PREZI_AIR_WITH_FACE_RECORDING"});
h({v:!1})}}),a.image({id:"pv-narration-no-camera-item",dataLookup:"pv-narration-no-camera-item",title:d.I18n.ts("I don\u2019t want to show up with my content, add my voice only this time"),src:{url:m.getResourceUrl("prezi_video_narration_only_basic_presentation.png")},onClick:()=>{f.logSelectPreziAirFlow({selected_prezi_air_flow:"NARRATED_PREZI_AIR_RECORDING"});h({v:!0})}})],itemLayout:e.ListItemLayout.dynamic,itemType:e.ListItemType.full,showTitle:!0,progress:e.ListProgress.finished,activeId:b.getState().v?
"pv-narration-no-camera-item":"pv-narration-with-camera-item"}))],footer:(c)=>T(c,()=>{f.logSelectRecordStyle();b.dialog.hide(r.$);b.getState().v?g.fa(f,k(),b,h,a.document.preziMetaData.preziOid,!0):v()},()=>b.dialog.hide(r.$))}))},T=(a,b,c)=>[a.button({color:e.ButtonColor.Blue,content:{text:d.I18n.ts("Continue")},id:"pv-narration-dialog-continue",onClick:b}),a.button({color:e.ButtonColor.Ghost,content:{text:d.I18n.ts("Cancel")},id:"pv-narration-dialog-cancel",onClick:c})],pa=(a,b,c,f,d,e,v,l)=>(k)=>
I(void 0,void 0,void 0,function*(){c.logSelectRecordStyle();b.dialog.hide(r.$);b.getState().v?(yield U(b))&&qa(b,()=>{g.fa(c,d(),b,f,a.document.preziMetaData.preziOid,!0)},c):ra(k,b,e,c,f,v,l)}),qa=(a,b,c)=>I(void 0,void 0,void 0,function*(){let f;(yield n.Za())?(c.logShownAvAccessDialog(),a.dialog.show(n.la),f=yield n.Ra(),a.dialog.hide(n.la)):f=yield n.Ra();f?b():(a.dialog.show(t.ta),c.logLoadedCameraErrorScreen({camera_error_type:"CHROME_UNIDENTIFIED_BLOCK"}))}),ra=(a,b,c,f,d,e,g)=>I(void 0,void 0,
void 0,function*(){var k=sa(b,c,f);const {camera:h,j:v}=b.getState();k=yield h.oa(a,k,h,v,g);d({camera:k});e(yield C.ra(),f)}),sa=(a,b,c)=>I(void 0,void 0,void 0,function*(){if(!(yield U(a)))return!1;let f;(yield n.Ya())?(c.logShownAvAccessDialog(),a.dialog.show(n.ja),f=yield n.Ba(),a.dialog.hide(n.ja)):f=yield n.Ba();f?(b(),c.logEnableCamera()):(a.dialog.show(t.sa),c.logLoadedCameraErrorScreen({camera_error_type:"CHROME_UNIDENTIFIED_BLOCK"}),b());return f}),U=(a)=>new Promise((b)=>{if(a.getState().Na.featureSet.pitchDesktop)b(!0);
else{let c=!1;const f=u.getPaywallResultManager(),d=f.register({onSuccess:()=>c=!0,onCancel:()=>{b(c)}});a.dialog.showBuiltIn(e.BuiltinDialog.airCreationFromPresent,()=>f.deregister(d))}});var g={fa:function(a,b,c,f,d,g){b.isCreationLimitReachedFor("AIR_VIDEO_PITCH").then((b)=>{b?c.dialog.showBuiltIn(e.BuiltinDialog.pitchCreationLimit):(g?(a.logRecordNarratedPreziAirVideo(),f({v:!0})):(a.logRecordPreziAirVideo(),f({ga:!0})),b="https://prezi.com/v/create/from-presentation/"+d+(g?"?audio-only":""),
l.isActive("js-actret-prezi-present-improve-record-video-flow")?window.location.assign(b):window.open(b))})},Ta:function(a,b){const {i:c,setState:f,f:d,session:e}=b;d.dialog.show("prezi_video_desktop_redirect");const g=u.Utils.deferredPromise();a.doAsync(g.promise,(a)=>{if(a.isValid()){const {camera:c}=d.getState();f({camera:c.Da(a,c)})}});const l=()=>{clearTimeout(n);c.logInitiatedPreziAirApp();g.resolve(null);d.dialog.hide("prezi_video_desktop_redirect");window.removeEventListener("blur",l)},n=
setTimeout(()=>{c.logFailedToInitiatePreziAirApp();d.dialog.show("prezi_video_desktop_download");window.removeEventListener("blur",l)},5E3);window.addEventListener("blur",l);window.location.href=`prezi-video://go-live/from-presentation/${e.document.preziMetaData.preziOid}`},Oa:function(a,b){a.logGoLiveWithPreziAir();b({ga:!0})},eb:function(a,b,c,f,h,k,v,m,y,q,B,p,ta,u,x,z){function K(){h.dialog.large((c)=>({id:"prezi_video_desktop_download",title:d.I18n.tsFormat("Go live with \u201c{}\u201c",a.document.preziMetaData.title,
{context:"dialog title"}),onCloseButtonClicked:()=>{},content:[c.sectionHeader({content:d.I18n.ts("We couldn\u2019t open your presentation in the Prezi Video app",{context:"section header"})}),c.label(d.I18n.ts("You\u2019ll need the **Prezi Video** desktop app to live stream your presentation.",{context:"Dialog body text"})),c.button(e.ButtonSize.Small,e.ButtonAlign.Start,(a)=>[a.button({color:e.ButtonColor.Blue,id:"download-prezi-video-app",content:{text:d.I18n.ts("Download Prezi Video app",{context:"Button title"})},
onClick:()=>{k.logDownloadVideoApp();const a=p();null!=a&&(window.location.href=a)}})]),c.label(d.I18n.ts("After installing, please try opening your presentation again.",{context:"Dialog body text"})),c.button(e.ButtonSize.Small,e.ButtonAlign.Start,(c)=>[c.button({color:e.ButtonColor.Blue,id:"pv-go-live-modal-button",content:{text:d.I18n.ts("Open presentation in Prezi Video app",{context:"Button title"})},onClick:()=>{k.logRetryGoLiveWithPreziAir();window.location.href=`prezi-video://go-live/from-presentation/${a.document.preziMetaData.preziOid}`}})])]}))}
function ja(){h.dialog.large((c)=>({id:"prezi_video_desktop_redirect",title:d.I18n.tsFormat("Ready to go live with \u201c{}\u201c",a.document.preziMetaData.title,{context:"Title of Prezi Video Go Live dialog"}),onCloseButtonClicked:()=>{},content:[c.sectionHeader({content:d.I18n.ts("Perfect for remote meetings and sharing on social media",{context:"section header"})}),c.label(" \t "),c.spinner(e.SpinnerColor.blue,R.SpinnerSize.m),c.label(d.I18n.ts("Opening your presentation in the **Prezi Video** desktop app...",
{context:"paragraph"})),c.label(d.I18n.ts("From there, you can start live streaming your presentation.",{context:"paragraph"}))]}))}function A(a){const {camera:b,aa:e,j:g}=c.getState(),D=0===e.length;let h=d.I18n.ts("1. Allow camera access",{context:"Prezi Video step"});l.isActive("js-actret-prezi-present-improve-record-video-flow")&&(h=d.I18n.ts("Choose camera",{context:"Prezi Video step"}));return[a.sectionHeader({content:h}),a.dropdown({id:"pv-dropdown-camera",placeholderText:D?d.I18n.ts("Camera not found"):
d.I18n.ts("Select Camera"),disabled:D,activeId:g,options:e.map(({deviceId:a,label:c},b)=>({id:a,title:c||"Camera "+b})),onChange:(a,c)=>N(this,void 0,void 0,function*(){const d=e.filter((a)=>a.deviceId===c).map((a)=>a.label).join("-");k.logSwitchCamera({target_camera:d});b.active?f({j:c,camera:yield b.oa(a,Promise.resolve(!0),b,c,Y)}):f({j:c})})})]}function F(a){const {Ga:b,xa:f}=c.getState();return[a.separator(),a.paragraph(d.I18n.ts("2. Adjust your content",{context:"Prezi Video step"}),[d.I18n.ts("This automatically shifts the layout to the right.")]),
a.vimeoVideo({videoId:d.I18n.ts("359744095",{context:"Video for Adjust Content section"}),autoplay:!1,muted:!1,onPlay:()=>{k.logPlayPreziAirVideo({prezi_air_tutorial:"ADJUST_CONTENT"})}}),a.button(e.ButtonSize.Large,e.ButtonAlign.Start,(a)=>[a.button({color:e.ButtonColor.Gray,id:g.Ha,disabled:!f,content:{text:b},onClick:()=>c.dialog.show(g.ca)})])]}function H(b){return N(this,void 0,void 0,function*(){const f=a.document.preziMetaData.preziOid;try{if(yield W.save(c,b),!(yield x().getMyPrezis()).map((a)=>
a.title).some((a)=>-1<a.indexOf(f)))if(yield u().isCreationAllowedFor("PITCH"))try{const a=yield W.duplicatePrezi();I(f,a.oid)}catch(V){if("message"in V)if(JSON.parse(V.message).code===aa.PermissionValue.NOT_ALLOWED_LIMIT_REACHED)c.dialog.showBuiltIn(e.BuiltinDialog.pitchCreationLimit);else throw V;}else c.dialog.showBuiltIn(e.BuiltinDialog.pitchCreationLimit)}catch(V){c.dialog.show(g.ia)}return Promise.resolve()})}function I(b,f){const d=new URL(window.location.href);d.pathname=d.pathname.replace(b,
f);d.hash=d.hash.concat("#opensidebar=prezi-video-adjust-content");b=c.getState().camera;b.active&&(d.hash=d.hash.concat("&cameraId="+b.Fa));d.hash=d.hash.concat("&originalTitle="+encodeURIComponent(a.document.preziMetaData.title));window.open(d.href)}function w(a){const b=c.getState();f({Ga:d.I18n.ts("Adjusting...",{context:"Button label"}),xa:!1});L(a);f(b)}function E(b){c.dialog.hide(g.ma);var e=c.getState().Ca;e=""!==e?e:d.I18n.ts("Copy for Prezi Video")+" "+c.getState().originalTitle;a.document.setDocumentTitle(e);
w(b);k.logAdjustPreziAirContent({adjust_content_method:"NORMAL"});f({pa:!0})}function L(c){a.document.executeApiCommand(c,{name:"adjust content",run:(c)=>{ba.Wa(a,c,z)}})}function M(a){var b=c.getState().da?"3":"2";b=d.I18n.tsFormat("{}. Practice",b,{context:"Prezi Video step"});return[a.separator(),a.paragraph(b,[d.I18n.ts("Click through your presentation a few times to make sure your content is in the right place and nothing covers your face on-screen.")])]}function O(a){var b=c.getState().da?"4":
"3";b=d.I18n.tsFormat("{}. Record or Go live",b,{context:"Prezi Video step"});let f=[d.I18n.ts("Ready to roll? Now that you\u2019re set for action, continue to Prezi Video to record or live stream your new creation.")];l.isActive("js-actret-prezi-present-improve-record-video-flow")&&(b=d.I18n.ts("READY TO START?",{context:"Prezi Video step"}),f=[d.I18n.ts("When you\u2018re ready, select Record in Prezi Video below.")]);return[a.separator(),a.paragraph(b,f),a.button(e.ButtonSize.Large,e.ButtonAlign.Start,
(a)=>l.isActive("js-actret-prezi-present-improve-record-video-flow")?[J(a)]:[J(a),P(a)])]}function J(b){let h=e.ButtonColor.Gray,D=d.I18n.ts("Record video",{context:"link to actual Prezi Video recording app on the web"}),B=!1,p=null;l.isActive("js-actret-prezi-present-improve-record-video-flow")&&(h=e.ButtonColor.Blue,D=d.I18n.ts("Record in Prezi Video",{context:"link to actual Prezi Video recording app on the web"}),B=!0,p=e.IconSmallId.Camera);return b.button({color:h,id:g.Pa,flexibleWidth:B,content:{icon:p,
text:D},onClick:(b)=>{W.save(c,b).then(()=>(0,g.fa)(k,u(),c,f,a.document.preziMetaData.preziOid,!1)).catch()}})}function P(b){return b.button({color:e.ButtonColor.Gray,id:g.jb,content:{text:d.I18n.ts("Go live",{context:"Go live with Prezi Video"})},onClick:(b)=>{(0,g.Oa)(k,f);W.save(c,b).then(()=>{(0,g.Ta)(b,{i:k,setState:f,f:c,session:a})})}})}function Q(a,b){const {camera:h,aa:D,j:B}=a;a=d.I18n.ts("Prezi Video");let p=d.I18n.ts("Allow camera"),ca=e.ButtonColor.Blue,m=!1;l.isActive("js-actret-prezi-present-improve-record-video-flow")&&
(a=d.I18n.ts("RECORD PRESENTATION"),p=d.I18n.ts("Turn on camera"),ca=e.ButtonColor.Gray,m=!0);return{title:a,content:[...A(b),b.button(e.ButtonSize.Large,e.ButtonAlign.Start,(a)=>h.active?[a.toggle({id:"pv-pause-button",content:{text:d.I18n.ts("Freeze camera")},pushed:h.qa,onClick:()=>{f({camera:h.qa?h.resume(h):h.freeze(h)})}}),a.button({id:"video-turn-off-button",color:e.ButtonColor.Gray,content:{text:d.I18n.ts("Turn off",{context:"turn off the camera in Prezi Video"})},onClick:(a)=>{f({camera:h.Da(a,
h)})}})]:[a.button({flexibleWidth:m,id:g.Ja,content:{text:p},disabled:null==B&&0===D.length,color:ca,onClick:(a)=>N(this,void 0,void 0,function*(){k.logEnableCamera();let b=Promise.resolve(!0);l.isActive("js-actret-prezi-present-improve-record-video-flow")&&(b=n.Ba().then(()=>!0));f({camera:yield h.oa(a,b,h,B,Y)});y(yield C.ra(),k)})})]),...l.isActive("js-actret-prezi-present-improve-record-video-flow")?[]:c.getState().da?F(b):[],...l.isActive("js-actret-prezi-present-improve-record-video-flow")?
[]:M(b),...l.isActive("js-actret-prezi-present-improve-record-video-flow")?[b.label(d.I18n.ts("Make sure your content is not on your face and you are using the right camera."))]:[],...O(b)]}}function S(a){return{title:d.I18n.ts("Prezi Video",{context:"name of our new product"}),content:[a.label(d.I18n.ts("Prezi Video puts you right alongside your content for an interactive and immersive experience like no other.")),a.vimeoVideo({videoId:d.I18n.ts("359744028",{context:"Prezi Video into video ID"}),
autoplay:!1,muted:!1,onPlay:()=>{k.logPlayPreziAirVideo({prezi_air_tutorial:"INTRO"})}}),...G.ea()?U(a):T(a)],footer:[a.label(d.I18n.ts("Want to learn more about Prezi Video?")),a.button(e.ButtonSize.Small,e.ButtonAlign.Start,(a)=>[a.button({color:e.ButtonColor.Ghost,id:"pv-get-help",content:{text:d.I18n.ts("See it in action",{context:"link to some product page about Prezi Video"})},onClick:()=>{k.logOpenPreziAirPage({target_url:"https://prezi.com/video/explore/"});window.open("https://prezi.com/video/explore/")}})])]}}
function T(a){return[a.label(d.I18n.ts("To run Prezi Video on browser, please download Google Chrome.")),a.button(e.ButtonSize.Large,e.ButtonAlign.Start,(a)=>[a.button({color:e.ButtonColor.Gray,id:"pv-get-chrome-button",content:{text:d.I18n.ts("Get Chrome now")},onClick:()=>{k.logDownloadChrome();window.open("https://www.google.com/chrome/")}})]),a.separator(),a.label(d.I18n.ts("Or download Prezi Video application to present live in video calls or record HD videos or share later.")),a.button(e.ButtonSize.Large,
e.ButtonAlign.Start,(a)=>[a.button({color:e.ButtonColor.Gray,id:"pv-download-prezi-video",content:{text:d.I18n.ts("Get Prezi Video")},onClick:()=>{window.open("https://prezi.com/prezi-video/download/")}})])]}function U(a){return[a.button(e.ButtonSize.Large,e.ButtonAlign.Start,(a)=>[a.button({color:e.ButtonColor.Blue,id:"pv-get-started-button",content:{text:d.I18n.ts("Get started")},onClick:()=>{k.logGetStartedWithPreziAir();f({w:g.o});c.sidebar.open(g.u,g.o)}})])]}const W=new X.Va(a,ta),Y={unknown:()=>
{k.logLoadedCameraErrorScreen({camera_error_type:"CHROME_UNIDENTIFIED_BLOCK"});c.dialog.show(g.wa)},Ia:()=>{k.logLoadedCameraErrorScreen({camera_error_type:"CHROME_IDENTIFIED_BLOCK"});c.dialog.show(g.ka)}};(function(){return h.createSidebar(g.u,(a)=>{const c=Q(v,a);let d=c;const e={};l.isActive("js-actret-prezi-present-improve-record-video-flow")||(d=S(a),e[g.o]=c);return{onOpen:()=>N(this,void 0,void 0,function*(){m();b.send(Z.preziVideoOnboarding,{kind:"sidebarOpened"});y(yield C.ra(),k)}),onClose:()=>
{k.logClosePreziAirSidebar();b.send(Z.preziVideoOnboarding,{kind:"sidebarClosed"});f({ha:!1})},root:d,pages:e,onPageBack(a){switch(a){case g.o:f({w:"root"});break;default:f({w:"root"})}}}})})();(function(){h.dialog.small((a)=>({id:g.ca,title:d.I18n.ts("Make a copy for your video?"),content:[a.label(d.I18n.ts("Adjusting content will change the placement of objects in your presentation. Would you like to keep the original version and use a copy of this presentation to create your video?"))],footer:(a)=>
[a.button({content:{text:d.I18n.ts("Yes, make a copy")},id:"pv-adjust-make-copy-button",color:e.ButtonColor.Blue,onClick:(a)=>N(this,void 0,void 0,function*(){c.dialog.hide(g.ca);a.doAsync(H(a),(a)=>{if(a.isValid()){var b=c.getState().camera;f({pa:!0,camera:b.Da(a,b)});c.sidebar.close(g.u)}})})}),a.button({content:{text:d.I18n.ts("No, only adjust")},id:"pv-adjust-in-place-button",color:e.ButtonColor.Ghost,onClick:(a)=>{c.dialog.hide(g.ca);k.logAdjustPreziAirContent({adjust_content_method:"WITHOUT_BACKUP"});
w(a);f({pa:!0})}})],onCloseButtonClicked:()=>{c.dialog.hide(g.ca)},align:e.DialogAlign.center}));h.dialog.small((a)=>({id:g.ma,title:d.I18n.ts("Title of copy for Prezi Video"),content:[a.label(d.I18n.ts("Please give your new copy a title")),a.inputField({id:"pv-adjust-title-inputfield",placeholderText:d.I18n.ts("Copy for Prezi Video"),value:c.getState().Ca,onValueChange:(a,b)=>{f({Ca:b});return!0},onEnter:(a)=>{E(a)}})],footer:(a)=>[a.button({content:{text:d.I18n.ts("Ready, adjust content")},id:"pv-adjust-make-copy-with-title-button",
color:e.ButtonColor.Blue,onClick:(a)=>{E(a)}})],onCloseButtonClicked:()=>{c.dialog.hide(g.ma)},align:e.DialogAlign.center}));h.dialog.alert(()=>({id:g.ia,title:d.I18n.ts("Unable to make a copy",{context:"...of the presentation, before executing the adjust Prezi operation"}),description:d.I18n.ts("Adjusting the content of your presentation cannot be undone. Would you still like to adjust your content without making a copy first?",{context:"Warning message"}),footer:(a)=>[a.button({content:{text:d.I18n.ts("Cancel")},
id:"pv-backup-failed-cancel",color:e.ButtonColor.Red,onClick:()=>{c.dialog.hide(g.ia)}}),a.button({content:{text:d.I18n.ts("Adjust content",{context:"Adjust content for Prezi Video, short button label"})},id:"pv-force-adjust-content",color:e.ButtonColor.Ghost,onClick:(a)=>{c.dialog.hide(g.ia);k.logAdjustPreziAirContent({adjust_content_method:"FORCED_WITHOUT_BACKUP"});w(a)}})]}));h.dialog.small((a)=>({id:g.ua,title:d.I18n.ts("You`ll need a camera to run Prezi Video"),content:[a.illustration(null,e.IllustrationLargeLightId.NoCamera),
a.label(d.I18n.ts("Please try:",{context:"instructions follow on an error dialog"})),a.label(d.I18n.ts("\u2022 Using a laptop or device with a built-in camera")),a.label(d.I18n.ts("\u2022 Connecting a camera to your computer")),a.button(e.ButtonSize.Large,e.ButtonAlign.End,(a)=>[a.button({id:"pv-no-camera-ack",content:{text:d.I18n.ts("Ok")},color:e.ButtonColor.Gray,onClick:()=>{c.dialog.hide(g.ua)}})])],align:e.DialogAlign.center,onCloseButtonClicked:()=>{c.dialog.hide(g.ua)}}));h.dialog.small((a)=>
({id:g.ka,title:d.I18n.ts("Enable your camera in Chrome"),content:[a.vimeoVideo({videoId:d.I18n.ts("349628240",{context:"Video ID for denied camera dialog"}),autoplay:!1,muted:!1}),a.label(d.I18n.ts("Please enable camera access in Chrome Settings to continue.")),a.button(e.ButtonSize.Large,e.ButtonAlign.End,(a)=>[a.button({id:"pv-denied-camera-ack",content:{text:d.I18n.ts("Ok")},color:e.ButtonColor.Gray,onClick:()=>{c.dialog.hide(g.ka)}})])],align:e.DialogAlign.center,onCloseButtonClicked:()=>{c.dialog.hide(g.ka)}}));
h.dialog.small((a)=>({id:g.wa,title:d.I18n.ts("Unable to access camera"),content:[a.illustration(null,e.IllustrationLargeLightId.NoCamera),a.label(d.I18n.ts("Please visit our Support Center for more help.")),a.button(e.ButtonSize.Large,e.ButtonAlign.End,(a)=>[a.button({id:"pv-error-camera-help",content:{text:d.I18n.ts("Visit Support Center")},color:e.ButtonColor.Gray,onClick:()=>{window.open(g.va)}})])],align:e.DialogAlign.center,onCloseButtonClicked:()=>{c.dialog.hide(g.wa)}}));ja();K();r.ab(a,c,
h,k,f,u,q,y,Y);n.bb(h,c);t.cb(h,c)})();(function(){const a=d.I18n.ts("Record as a video");h.createTopMenuItem(e.TopMenuId.Present,{kind:e.MenuItemKind.largeButton,id:"shareMenu/prezivideo",icon:e.IconSmallId.Record,weight:0,categoryWeight:1,title:a,onClick:()=>{k.logClickTabMenuItem({tab_menu_item:"PREZI_VIDEO"});B({prezi_air_sidebar_source:"PRESENT"})}})})()}},N=this&&g.na||function(a,b,c,f){function d(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,e){function g(a){try{k(f.next(a))}catch(p){e(p)}}
function h(a){try{k(f["throw"](a))}catch(p){e(p)}}function k(a){a.done?c(a.value):d(a.value).then(g,h)}k((f=f.apply(a,b||[])).next())})};Object.defineProperty(g,"__esModule",{value:!0});g.u="prezi-video-sidebar-design";g.o="video-sodebar-page";g.ca="copy-on-adjust-dialog";g.ma="title-of-copy-dialog";g.ia="backup-failed-modal";g.ua="no-camera-dialog";g.ka="denied-camera-dialog";g.wa="unkown-error-camera-dialog";g.va="https://prez.is/3pg3g8j/";g.Ha="pv-adjust-content-button";g.jb="pv-sidebar-golive-button";
g.Pa="pv-recorder-button";g.Ja="pv-enable-button";var O={};Object.defineProperty(O,"__esModule",{value:!0});O.Xa=[{id:"start",visual:{},isDone:(a)=>a.w===g.o},{id:"allow-camera",visual:{highlights:[{around:{uiElementId:g.Ja},pulse:!0,shape:R.HoleShape.rounded}]},isDone:(a)=>a.camera.active||a.ga},{id:"adjust-content",visual:{highlights:[{around:{uiElementId:g.Ha},pulse:!0,shape:R.HoleShape.rounded}]},isDone:(a)=>!a.da||!a.xa||a.pa||a.ga},{id:"record-video",visual:{highlights:[{around:{uiElementId:g.Pa},
pulse:!0,shape:R.HoleShape.rounded}]},isDone:(a)=>a.ga,setFlagsOnCompleted:[L.UserSettingBooleanKeys.JS_EDITOR_VIDEO_ONBOARDING_SHOWN]}];var da={nb:function(a,b){if(null!=a&&(Q(a.visual.contentChildren,a.zoomLayoutBox)||a.pageChildren.some((b)=>Q(b.contentChildren,a.zoomLayoutBox)))){var c=a.zoomLayoutBox,f=c.referenceFrame.layoutBox({x:a.zoomLayoutBox.topLeft.x+.7*a.zoomLayoutBox.size.width,y:a.zoomLayoutBox.topLeft.y+.5*a.zoomLayoutBox.size.height},{width:.55*a.zoomLayoutBox.size.width,height:.95*
a.zoomLayoutBox.size.height}),d=c.fitIntoOther(f),e=a.pageChildren.reduce((a,b)=>{a.push(...b.contentChildren);return a},[]);e=A([...a.simpleChildren(q.base.ChildVisibilityKind.all),...e]);b.fitInto(e,e.layoutBox.align(c.topLeft,c.topRight,d.topLeft,d.topRight));var g=!1,l=[],m=[];a.pageChildren.forEach((b)=>{const c=[];b.contentChildren.forEach((a)=>{f.topLeft.x-a.layoutBox.topLeft.x>.05*f.size.width&&c.push(a)});0<c.length?(b=A(c),m.push(b)):m.push(null);a.visual.contentChildren.forEach((a)=>{f.topLeft.x-
a.layoutBox.topLeft.x>.05*f.size.width&&(g=!0,c.push(a))});0<c.length?(b=A(c),l.push(f.topLeft.x-b.layoutBox.topLeft.x-.05*f.size.width)):l.push(-1)});if(g){const d=Math.max(...l);c=A(a.simpleChildren(q.base.ChildVisibilityKind.outside));b.fitInto(c,c.layoutBox.translate({x:d,y:0}));l=l.map((a)=>0>a?a:d)}var n=0;l.forEach((a)=>{0<a&&null!=m[n]&&b.fitInto(m[n],m[n].layoutBox.translate({x:a,y:0}));++n});b.fitInto(a,a.layoutBox)}}};Object.defineProperty(da,"__esModule",{value:!0});var w={},ea=this&&
w.na||function(a,b,c,d){function f(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,e){function g(a){try{k(d.next(a))}catch(p){e(p)}}function h(a){try{k(d["throw"](a))}catch(p){e(p)}}function k(a){a.done?c(a.value):f(a.value).then(g,h)}k((d=d.apply(a,b||[])).next())})};Object.defineProperty(w,"__esModule",{value:!0});w.Ua=class{constructor(){this.Ma=!1;this.logger=z.LoggerModule.getLoggerManager().createLogger("prezi_classic_import.ClassicImportPlugin");this.i=
z.avro.Avro.createDefaultLogger()}unload(){const {camera:a}=this.f.getState();a.destroy(a)}init(a){this.ya=l.isActive("prezioption-fromprezivideo");var b=l.isActive("prezioption-prezivideotemplate");const c=a.declareUI({fills:{solidFill:{fillKind:q.base.FillKind.solid,color:{r:239,g:207,b:28,a:1}},current:q.base.FillKind.solid,hasAlpha:!0},pb:!1,w:"root",ob:!0,ga:!1,Ga:d.I18n.ts("Adjust content",{context:"button title"}),xa:!b,da:!b,gb:!1,ha:!1,j:null,aa:[{deviceId:"dummy",label:"data"}],camera:C.$a(this.session,
this.logger,this.i,(a)=>this.Qa(a,this.i)),Ca:"",originalTitle:null,pa:!1,v:l.isActive("js-actret-prezi-present-improve-record-video-flow"),Na:null},(a,b)=>{g.eb(this.session,this.pluginAccess,this.f,(a)=>this.setState(a),b,this.i,a,()=>this.kb(),(a,b)=>this.Qa(a,b),()=>this.ba(a),(b)=>l.isActive("js-video-narration-only-dialog")?this.Aa(a,b):this.ba(a,b),()=>this.fb,()=>this.hb,()=>this.Ea,()=>this.mb,this.Sa);this.za.declareUI(b)});this.f=c;this.setState=(a)=>{c.setState(a);this.za.refreshOnboarding()};
b=l.isActive("js-unique-differentiation")?"disable":l.isActive("js-ar-convert-force-onboarding")?"force":l.isActive("js-ar-convert-disable-onboarding")?"disable":[L.UserSettingBooleanKeys.JS_EDITOR_VIDEO_ONBOARDING_SHOWN];this.za=F.EditorCommander.createOnboarding(O.Xa,this.f,b,this.userSettings);this.hb=la.DuplicatePreziProviderModule.getDuplicatePreziProvider(a);this.mb=a.service(["api","v4","presentation"],(a)=>({getMyPrezis:()=>a.read("GET",[],{mine:"true"})}));this.Ea=aa.UserPermissionsProviderModule.getUserPermissionsProvider(a);
a.onLicenseChange((a)=>{this.setState({Na:a})});a.onApplicationModeChange((a)=>{if(a!==e.ApplicationMode.Edit){var {camera:a}=this.f.getState();this.setState({camera:Object.assign(Object.assign({},a),{active:!1})})}});this.Sa=a.registerStackLayout("video-layout-stack",{isValid:()=>!1,apply:(a,b,c)=>{da.nb(c.parent,b)}})}kb(){this.Ma||(G.ea()||this.i.logLoadedUnsupportedBrowserMessage(),this.Ka(),this.setState({da:this.lb()}),this.Ma=!0)}lb(){return l.isActive("prezioption-prezivideotemplate")?!1:
this.session.document.read((a)=>{var b=F.EditorCommander.getLayoutRepository();const c=new Set([...b.getPlanetLayoutInfos().filter((a)=>2===a.category).map((a)=>a.id),...b.getOverviewLayoutInfos().filter((a)=>2===a.category).map((a)=>a.id),this.Sa]);b=[];this.La(a.overview,b);return 0<b.length&&b.some((a)=>!c.has(a))})}La(a,b){b.push(a.layout.id);(a.is(q.base.ObjectKind.overview)||a.is(q.base.ObjectKind.planetTopic))&&a.topicChildren.forEach((a)=>this.La(a,b))}Qa(a,b){return ea(this,void 0,void 0,
function*(){const {j:c,aa:d}=this.f.getState();u.Utils.arrayEquals(d.map((a)=>a.deviceId),a.map((a)=>a.deviceId))||(0===a.length?(b.logLoadedCameraErrorScreen({camera_error_type:"NO_CAMERA"}),this.setState({aa:[],j:null})):null==c?this.setState({aa:a,j:a[0].deviceId}):0>a.map((a)=>a.deviceId).indexOf(c)?this.setState({aa:a,j:a[0].deviceId}):this.setState({aa:a}))})}ib(){if(M.PreziUAParser.isMac())return fetch("https://prezidesktop.s3.amazonaws.com/assets/mac/prezi-video/updates/prezi-video.xml").then((a)=>
a.text()).then((a)=>(new DOMParser).parseFromString(a,"text/xml")).then((a)=>a.getElementsByTagName("enclosure")[0].getAttribute("url")).catch(()=>null);{const a=-1<navigator.userAgent.indexOf("64");return fetch(a?"https://prezidesktop.s3.amazonaws.com/assets/cast/win/latest-release/latestRelease-x64.json":"https://prezidesktop.s3.amazonaws.com/assets/cast/win/latest-release/latestRelease.json").then((a)=>a.json()).then((a)=>a.Url).catch(()=>null)}}ba(a,b=null){const {w:c,ha:d}=a;d?this.f.sidebar.close(g.u):
(l.isActive("js-actret-prezi-present-improve-record-video-flow")?(this.setState({w:"root"}),this.f.sidebar.open(g.u)):!G.ea()||!this.ya&&this.za.isActive()?this.f.sidebar.open(g.u,"root"===c?void 0:c):(this.setState({w:g.o}),this.f.sidebar.open(g.u,g.o)),null!=b&&this.i.logOpenPreziAirSidebar(b),this.setState({ha:!0}))}Aa(a,b){a.ha?this.f.sidebar.close(g.u):G.ea()?(this.i.logOpenPreziAirSidebar(b),this.i.logLoadedPreziAirFlowDialog(),this.f.dialog.show(r.$)):(this.i.logOpenPreziAirSidebar(b),this.ba(a))}processMessage(a){return ea(this,
void 0,void 0,function*(){switch(a.kind){case "openOrStartInMode":var b=this.session.document.preziMetaData.preziOid;this.f.getState().ha?G.ea()&&a.mat.isValid()&&("LIVE"===a.body?(g.Oa(this.i,this.setState),g.Ta(a.mat,{i:this.i,setState:this.setState,f:this.f,session:this.session})):"RECORD"===a.body?g.fa(this.i,this.Ea,this.f,this.setState,b,!1):"NARRATE"===a.body&&g.fa(this.i,this.Ea,this.f,this.setState,b,!0)):this.ba(this.f.getState(),{prezi_air_sidebar_source:"PRESENT"});break;case "requestOpen":b=
this.userSettings.getBoolean(L.UserSettingBooleanKeys.JS_EDITOR_PREZI_VIDEO_ONBOARDING);b=this.ya&&l.isActive("js-enable-prezi-video-onboarding-plugin")&&!l.isActive("js-unique-differentiation")&&(l.isActive("js-force-prezi-video-onboarding")||!l.isActive("js-disable-prezi-video-onboarding")&&!b);l.isActive("js-video-narration-only-dialog")?"BANNER_BTN"===a.trigger?this.Aa(this.f.getState(),{prezi_air_sidebar_source:"TOP_BUTTON"}):b||this.ba(this.f.getState(),{prezi_air_sidebar_source:"AUTO"}):"BANNER_BTN"===
a.trigger?this.ba(this.f.getState(),{prezi_air_sidebar_source:"TOP_BUTTON"}):b||this.ba(this.f.getState(),{prezi_air_sidebar_source:"AUTO"});break;case "openAdjustContentDialog":if(a.mat.isValid()){b=a.body.cameraId;this.setState({originalTitle:a.body.originalTitle});this.f.sidebar.open(g.u,g.o);this.f.dialog.show(g.ma);const c=this.f.getState().camera;this.setState({w:g.o,j:b,camera:b?yield c.oa(a.mat,Promise.resolve(!0),c,b,{Ia:()=>{},unknown:()=>{}}):c})}break;case "openChooseModeDialog":this.ya=
!0;this.Aa(this.f.getState(),{prezi_air_sidebar_source:"AUTO"});break;default:u.Utils.assertNever(a)}})}Ka(){this.ib().then((a)=>{this.fb=a;this.setState({gb:!0})}).catch(()=>{setTimeout(()=>this.Ka(),5E3)})}};var J={};Object.defineProperty(J,"__esModule",{value:!0});J.lazyModule={createPlugin(){return new w.Ua}};return J});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_ar_convert",["require","prezi.geometry","prezi_cet_model_editor","prezi_duplicatepreziprovider","prezi_editor_commander","prezi_editor_error","prezi_featureswitcher","prezi_i18n","prezi_logger","prezi_plugin_api","prezi_plugin_meta","prezi_service_data","prezi_uaparser","prezi_userpermissionsprovider","prezi_utils","prezi_widgets"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_ar_convert.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi.geometry"),require("prezi_cet_model_editor"),require("prezi_duplicatepreziprovider"),require("prezi_editor_commander"),require("prezi_editor_error"),require("prezi_featureswitcher"),require("prezi_i18n"),require("prezi_logger"),require("prezi_plugin_api"),require("prezi_plugin_meta"),require("prezi_service_data"),require("prezi_uaparser"),require("prezi_userpermissionsprovider"),require("prezi_utils"),require("prezi_widgets"));}else{this["prezi_ar_convert"]=__factory(this["prezi.geometry"],this["prezi_cet_model_editor"],this["prezi_duplicatepreziprovider"],this["prezi_editor_commander"],this["prezi_editor_error"],this["prezi_featureswitcher"],this["prezi_i18n"],this["prezi_logger"],this["prezi_plugin_api"],this["prezi_plugin_meta"],this["prezi_service_data"],this["prezi_uaparser"],this["prezi_userpermissionsprovider"],this["prezi_utils"],this["prezi_widgets"]);}}).call(this);