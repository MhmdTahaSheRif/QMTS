;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "14.0-9-g58006c6";},getModuleName:function(){return "prezi_shared_ui";},getModuleVersion:function(){return "release-2023w26-base-4-g4a3c2ed4bcb";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_i18n":dependencies[0],"prezi_plugin_api":dependencies[1],"prezi_utils":dependencies[2]}};})());};})(arguments);var moduleImpl=(function(){return module(function(g){var c=g.dependencies.prezi_plugin_api,e=g.dependencies.prezi_utils,f=g.dependencies.prezi_i18n,h={};Object.defineProperty(h,"__esModule",{value:!0});const k=e.Utils.createUrlUtils();h.HyperlinkDialog=class{constructor(a,b){this.ui=a;this.args=b}createHyperLinkPropertyBarItem(){this.ui.createPropertyBarItem((a)=>a.togglePopupButton((a)=>{const b=this.args.mode===d.HyperlinkDialogMode.edit,e=b?f.I18n.ts("Edit link"):f.I18n.ts("Insert link");return{id:"hyperlinkPopup",groupWeight:this.args.propertyBarGroupWeight,
weight:this.args.propertyBarWeight,tooltipText:e,content:{icon:c.IconSmallId.Link},disabled:this.args.propertyBarDisabled,pushed:b,hideArrow:!0,popupHeader:[a.sectionHeader({content:e})],popupContent:[a.inputField({id:"url-text-input-field",placeholderText:f.I18n.ts("Type or paste URL"),value:this.args.urlText,onValueChange:(a,b)=>{this.args.onUrlTextInputValueChange(a,b)},onEnter:(a)=>this.onEnter(a),selectOnFocus:!0,autofocus:!0}),a.button(c.ButtonSize.Small,c.ButtonAlign.End,(a)=>this.createLinkButtons(a))],
onOpen:()=>{if(null!=this.args.onPopupOpen)this.args.onPopupOpen()}}}))}createLinkButtons(a){const b=this.args.mode===d.HyperlinkDialogMode.insert;return b?[a.button({id:"insert-link-insert-button",color:c.ButtonColor.Gray,disabled:b&&e.Utils.isEmptyString(this.args.urlText),content:{text:f.I18n.ts("Insert")},onClick:this.args.applyLink})]:[a.button({id:"edit-link-remove-button",color:c.ButtonColor.Ghost,content:{text:f.I18n.ts("Remove link")},onClick:this.args.removeLink}),a.button({id:"edit-link-open-button",
color:c.ButtonColor.Ghost,content:{icon:c.IconSmallId.OpenInNew},onClick:()=>{var a=k.ensureProtocolInUrl(this.args.urlText.trim());a=k.getRedirectLink(a);if(null!=this.args.onLinkOpened)this.args.onLinkOpened();window.open(a)}}),a.button({id:"edit-link-apply-link-button",color:c.ButtonColor.Gray,content:{text:f.I18n.ts("Apply")},onClick:this.args.applyLink,disabled:this.args.mode===d.HyperlinkDialogMode.edit&&e.Utils.isEmptyString(this.args.urlText)})]}onEnter(a){e.Utils.isEmptyString(this.args.urlText)||
this.args.applyLink(a)}};var d={};Object.defineProperty(d,"__esModule",{value:!0});(function(a){a.edit="edit";a.insert="insert"})(d.HyperlinkDialogMode||(d.HyperlinkDialogMode={}));d.createHyperLinkPropertyBarItem=function(a,b){(new h.HyperlinkDialog(a,b)).createHyperLinkPropertyBarItem()};return d});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_shared_ui",["require","prezi_i18n","prezi_plugin_api","prezi_utils"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_shared_ui.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi_i18n"),require("prezi_plugin_api"),require("prezi_utils"));}else{this["prezi_shared_ui"]=__factory(this["prezi_i18n"],this["prezi_plugin_api"],this["prezi_utils"]);}}).call(this);