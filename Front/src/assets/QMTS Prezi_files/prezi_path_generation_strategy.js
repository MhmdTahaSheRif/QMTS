;(function(){var baseUrl;var __factory=function(){var module=(function(dependencies){return function(init){return init.call({},(function(){return{getSpaghettiVersion:function(){return "14.0-9-g58006c6";},getModuleName:function(){return "prezi_path_generation_strategy";},getModuleVersion:function(){return "release-2023w26-base-4-g4a3c2ed4bcb";},getResourceUrl:function(resource){if(resource.substr(0,1)!="/"){resource="/"+resource;}return baseUrl+resource;},"dependencies":{"prezi_cet_model_editor":dependencies[0],"prezi_editor_commander":dependencies[1],"prezi_editor_error":dependencies[2],"prezi_featureswitcher":dependencies[3],"prezi_i18n":dependencies[4],"prezi_logger":dependencies[5],"prezi_plugin_api":dependencies[6],"prezi_plugin_meta":dependencies[7],"prezi_service_data":dependencies[8],"prezi_uaparser":dependencies[9],"prezi_utils":dependencies[10],"prezi_widgets":dependencies[11]}};})());};})(arguments);var moduleImpl=(function(){return module(function(c){function u(a,e,b){return a.image({id:e.id,dataLookup:e.id,title:e.description,src:{url:e.thumbnailUrl},onClick:()=>b(e.onValue),hoverContent:{type:f.HoverContentType.video,url:e.da}})}function r(a,b,c,d){return a.simpleList((a)=>({items:b.map((b)=>u(a,b,d)),itemLayout:f.ListItemLayout.dynamic,itemType:f.ListItemType.full,showTitle:!0,progress:f.ListProgress.finished,activeId:c}))}var v=c.dependencies.prezi_cet_model_editor,g=c.dependencies.prezi_logger,f=c.dependencies.prezi_plugin_api,
d=c.dependencies.prezi_i18n,w=c.dependencies.prezi_plugin_meta,m=c.dependencies.prezi_utils,n={ja:function(a,b,c){return[a.sectionHeader({content:d.I18n.ts("1. Overview - Topic path",{context:"Path settings option title (to zoom from topics back to overview)"})}),r(a,[h.on,h.off],b?h.on.id:h.off.id,c)]},ka:function(a,b,c){return[a.sectionHeader({content:d.I18n.ts("2. Topic - Subtopic path",{context:"Path settings option title (to zoom from subtopics back to parent topic)"})}),r(a,[k.on,k.off],b?k.on.id:
k.off.id,c)]}};Object.defineProperty(n,"__esModule",{value:!0});const h={on:{id:"visitOverviewOn",description:d.I18n.ts("Zoom back to the overview between topics",{context:"Path settings option description"}),onValue:!0,thumbnailUrl:c.getResourceUrl("/prezi-spf-overview1-thumbnail.png"),da:c.getResourceUrl("/prezi-spf-overview1.mp4")},off:{id:"visitOverviewOff",description:d.I18n.ts("Zoom directly to the next topic in your path",{context:"Path settings option description"}),onValue:!1,thumbnailUrl:c.getResourceUrl("/prezi-spf-overview2-thumbnail.png"),
da:c.getResourceUrl("/prezi-spf-overview2.mp4")}},k={on:{id:"visitParentOn",description:d.I18n.ts("Zoom back to the main topic between subtopics",{context:"Path settings option description"}),onValue:!0,thumbnailUrl:c.getResourceUrl("/prezi-spf-topicview1-thumbnail.png"),da:c.getResourceUrl("/prezi-spf-topicview1.mp4")},off:{id:"visitParentOff",description:d.I18n.ts("Zoom directly to the next subtopic in your path",{context:"Path settings option description"}),onValue:!1,thumbnailUrl:c.getResourceUrl("/prezi-spf-topicview2-thumbnail.png"),
da:c.getResourceUrl("/prezi-spf-topicview2.mp4")}};var b={};Object.defineProperty(b,"__esModule",{value:!0});(function(a){a[a.j=0]="EachChild";a[a.u=1]="LastChild"})(b.o||(b.o={}));(function(a){a[a.j=0]="EachChild";a[a.u=1]="LastChild";a[a.ca=2]="Legacy"})(b.i||(b.i={}));var l={updatePathGenerationStrategy:function(a,b,c){const e=t.find((a)=>a.w.visitOverview===b&&a.w.f===c);a.structuredPath.playbackPathGenerationStrategy=e.$},ea:function(a){const b=a.structuredPath.playbackPathGenerationStrategy;
return t.find((a)=>a.$===b).w}};Object.defineProperty(l,"__esModule",{value:!0});c=v.base.PlaybackPathGenerationStrategy;const t=[{$:c.OverviewAfterEachChild_TopicAfterEachChild,w:{visitOverview:b.o.j,f:b.i.j}},{$:c.OverviewAfterEachChild_TopicAfterLastChild,w:{visitOverview:b.o.j,f:b.i.u}},{$:c.OverviewAfterLastChild_TopicAfterEachChild,w:{visitOverview:b.o.u,f:b.i.j}},{$:c.OverviewAfterLastChild_TopicAfterLastChild,w:{visitOverview:b.o.u,f:b.i.u}},{$:c.OverviewAfterEachChild,w:{visitOverview:b.o.j,
f:b.i.ca}},{$:c.OverviewAfterLastChild,w:{visitOverview:b.o.u,f:b.i.ca}}];var p={};Object.defineProperty(p,"__esModule",{value:!0});p.ha=class{logOpenPathSettingsDialog(){g.avro.Avro.createDefaultLogger().logOpenPathSettingsDialog()}logSavePathSettings(a,b){g.avro.Avro.createDefaultLogger().logSavePathSettings({path_setting_variation_overview:this.fa(a),path_setting_variation_subtopic:this.ga(b)})}logCancelPathSettings(){g.avro.Avro.createDefaultLogger().logCancelPathSettings()}la(a){g.avro.Avro.createDefaultLogger().logSelectPathSetting({path_setting_variation:this.fa(a)})}ma(a){g.avro.Avro.createDefaultLogger().logSelectPathSetting({path_setting_variation:this.ga(a)})}fa(a){switch(a){case b.o.j:return"ALWAYS_BACK_TO_OVERVIEW";
case b.o.u:return"NEVER_BACK_TO_OVERVIEW";default:m.Utils.assertNever(a)}}ga(a){switch(a){case b.i.j:return"ALWAYS_BACK_TO_SUBTOPIC_OVERVIEW";case b.i.u:return"NEVER_BACK_TO_SUBTOPIC_OVERVIEW";case b.i.ca:return"NEVER_BACK_TO_SUBTOPIC_OVERVIEW";default:m.Utils.assertNever(a)}}};var q={};Object.defineProperty(q,"__esModule",{value:!0});q.ia=class{constructor(){this.aa="pathSettingsDialog"}init(a){this.ba=new p.ha;const {visitOverview:b,f:c}=this.session.document.read((a)=>l.ea(a));this.v=a.declareUI({visitOverview:b,
f:c},(a,b)=>{b.dialog.medium((a)=>this.oa(a))})}processMessage(a){switch(a){case w.PathGenerationStrategyMessage.open:this.na();break;default:m.Utils.assertNever(a)}}na(){const {visitOverview:a,f:b}=this.session.document.read((a)=>l.ea(a));this.v.setState({visitOverview:a,f:b});this.v.dialog.show(this.aa);this.ba.logOpenPathSettingsDialog()}oa(a){const c=this.v.getState();return{id:this.aa,title:d.I18n.ts("Path Settings",{context:"Path settings dialog title"}),content:[a.label(d.I18n.ts("Choose the path your presentation takes when navigating between topics and subtopics.",
{context:"Path settings dialog subtitle"})),...n.ja(a,c.visitOverview===b.o.j,(a)=>this.pa(a?b.o.j:b.o.u)),a.containerWithColoredBackground({content:n.ka(a,c.f===b.i.j,(a)=>this.qa(a?b.i.j:b.i.ca))})],footer:(a)=>[a.button({color:f.ButtonColor.Blue,content:{text:d.I18n.ts("Save",{context:"Path settings dialog save button"})},id:`${this.aa}-save`,onClick:(a)=>this.save(a)}),a.button({color:f.ButtonColor.Ghost,content:{text:d.I18n.ts("Cancel",{context:"Path settings dialog cancel button"})},id:`${this.aa}-cancel`,
onClick:()=>this.cancel()})]}}save(a){const b=this.v.getState();this.session.document.executeApiCommand(a,{name:"Update path generation strategy",run:(a)=>l.updatePathGenerationStrategy(a,b.visitOverview,b.f)});this.ba.logSavePathSettings(b.visitOverview,b.f);this.v.dialog.hide(this.aa)}cancel(){this.v.dialog.hide(this.aa);this.ba.logCancelPathSettings()}pa(a){this.v.setState({visitOverview:a});this.ba.la(a)}qa(a){this.v.setState({f:a});this.ba.ma(a)}};c={};Object.defineProperty(c,"__esModule",{value:!0});
c.lazyModule={createPlugin(){return new q.ia}};return c});

})() || {};
moduleImpl["module"]=moduleImpl;
return moduleImpl;};if(typeof define==="function"&&define.amd){define("prezi_path_generation_strategy",["require","prezi_cet_model_editor","prezi_editor_commander","prezi_editor_error","prezi_featureswitcher","prezi_i18n","prezi_logger","prezi_plugin_api","prezi_plugin_meta","prezi_service_data","prezi_uaparser","prezi_utils","prezi_widgets"],function(){var moduleUrl=arguments[0]["toUrl"]("prezi_path_generation_strategy.js");baseUrl=moduleUrl.substr(0,moduleUrl.lastIndexOf("/"));return(__factory).apply({},[].slice.call(arguments,1));});}else if(typeof exports==="object"&&typeof exports.nodeName!=="string"){baseUrl=__dirname;module.exports=(__factory)(require("prezi_cet_model_editor"),require("prezi_editor_commander"),require("prezi_editor_error"),require("prezi_featureswitcher"),require("prezi_i18n"),require("prezi_logger"),require("prezi_plugin_api"),require("prezi_plugin_meta"),require("prezi_service_data"),require("prezi_uaparser"),require("prezi_utils"),require("prezi_widgets"));}else{this["prezi_path_generation_strategy"]=__factory(this["prezi_cet_model_editor"],this["prezi_editor_commander"],this["prezi_editor_error"],this["prezi_featureswitcher"],this["prezi_i18n"],this["prezi_logger"],this["prezi_plugin_api"],this["prezi_plugin_meta"],this["prezi_service_data"],this["prezi_uaparser"],this["prezi_utils"],this["prezi_widgets"]);}}).call(this);